(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{516:function(e,t,a){"use strict";a.r(t);var s=a(53),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"testcafe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testcafe"}},[e._v("#")]),e._v(" TestCafé")]),e._v(" "),a("p",[e._v("You can run End-To-End scenarii, using "),a("a",{attrs:{href:"https://devexpress.github.io/testcafe/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TestCafé"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),a("ul",[a("li",[e._v("You must have at least one browser (Chrome/Chromium or Firefox) installed. You can install a standalone version of Chromium: check "),a("a",{attrs:{href:"#how-to-install-locally-chromium"}},[a("code",[e._v("How-to install locally Chromium")])]),e._v(" below.")]),e._v(" "),a("li",[e._v("You must execute "),a("a",{attrs:{href:"https://github.com/ds300/patch-package",target:"_blank",rel:"noopener noreferrer"}},[e._v("patch-package"),a("OutboundLink")],1),e._v(", in order to apply some updates to TestCafé library. Please execute the following command after installation: "),a("code",[e._v('npx patch-package --patch-dir="packages/manager/tools/testcafe/patches"')]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("Don't forget to export some required variables before launching tests. See "),a("code",[e._v("Variables / Secrets")]),e._v(" section below.")])]),e._v(" "),a("p",[e._v("You can launch TestCafé with:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("yarn run test:e2e:chromium")]),e._v(": will launch TestCafé with Chrome/Chromium.")]),e._v(" "),a("li",[a("code",[e._v("yarn run test:e2e:chromium:headless")]),e._v(": will launch TestCafé with Headless Chrome/Chromium.")]),e._v(" "),a("li",[a("code",[e._v("yarn run test:e2e:firefox")]),e._v(": will launch TestCafé with Firefox.")]),e._v(" "),a("li",[a("code",[e._v("yarn run test:e2e:firefox:headless")]),e._v(": will launch TestCafé with Headless Firefox.")])]),e._v(" "),a("p",[e._v("This will launch all the tests.")]),e._v(" "),a("p",[e._v("You can run specific tests, using the "),a("code",[e._v("--test-meta")]),e._v(" parameter:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" run test:e2e:chromium:headless --test-meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"service=ovh.com-manager,severity=critical,priority=high,type=regression"')]),e._v("\n")])])]),a("p",[e._v("This command will launch only tests with requested meta parameters.")]),e._v(" "),a("p",[e._v('You can skip a specific test or fixture by putting ".skip" after "fixture" or "test" inside the test cases file.')]),e._v(" "),a("h2",{attrs:{id:"documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#documentation"}},[e._v("#")]),e._v(" Documentation")]),e._v(" "),a("h3",{attrs:{id:"page-model-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#page-model-pattern"}},[e._v("#")]),e._v(" Page Model Pattern")]),e._v(" "),a("p",[e._v("This project use the "),a("a",{attrs:{href:"https://devexpress.github.io/testcafe/documentation/recipes/extract-reusable-test-code/use-page-model.html",target:"_blank",rel:"noopener noreferrer"}},[e._v('"Page Model"'),a("OutboundLink")],1),e._v(" pattern.")]),e._v(" "),a("p",[e._v("You can find them inside the directory: "),a("code",[e._v("packages/manager/tools/testcafe")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"meta-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meta-configuration"}},[e._v("#")]),e._v(" Meta configuration")]),e._v(" "),a("p",[e._v("All fixtures must have at least 5 meta parameters:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("service")]),e._v(": the service names allowed for these tests. Currently, there are:\n"),a("ul",[a("li",[e._v("ca.ovh.com-manager-cloud-repsac")]),e._v(" "),a("li",[e._v("ca.ovh.com-manager-dedicated")]),e._v(" "),a("li",[e._v("ca.ovh.com-manager-public-cloud")]),e._v(" "),a("li",[e._v("ca.ovh.com-manager-sunrise")]),e._v(" "),a("li",[e._v("ca.ovh.com-manager")]),e._v(" "),a("li",[e._v("ovh.com-manager-cloud-repsac")]),e._v(" "),a("li",[e._v("ovh.com-manager-dedicated")]),e._v(" "),a("li",[e._v("ovh.com-manager-public-cloud")]),e._v(" "),a("li",[e._v("ovh.com-manager-sunrise")]),e._v(" "),a("li",[e._v("ovh.com-manager-web")]),e._v(" "),a("li",[e._v("ovh.com-manager")]),e._v(" "),a("li",[e._v("ovhtelecom.fr-manager")]),e._v(" "),a("li",[e._v("us.ovhcloud.com-manager-cloud-repsac")]),e._v(" "),a("li",[e._v("us.ovhcloud.com-manager-dedicated")]),e._v(" "),a("li",[e._v("us.ovhcloud.com-manager-public-cloud")]),e._v(" "),a("li",[e._v("us.ovhcloud.com-manager")])])]),e._v(" "),a("li",[a("code",[e._v("type")]),e._v(": the test type (regression)")]),e._v(" "),a("li",[a("code",[e._v("priority")]),e._v(" is categorized into three types (please read this "),a("a",{attrs:{href:"https://www.utest.com/articles/severity-priority-in-testing-introduction-differences",target:"_blank",rel:"noopener noreferrer"}},[e._v("guide"),a("OutboundLink")],1),e._v("):\n"),a("ul",[a("li",[e._v("Low")]),e._v(" "),a("li",[e._v("Medium")]),e._v(" "),a("li",[e._v("High")])])]),e._v(" "),a("li",[a("code",[e._v("severity")]),e._v(" is categorized into five types (please read this "),a("a",{attrs:{href:"https://www.utest.com/articles/severity-priority-in-testing-introduction-differences",target:"_blank",rel:"noopener noreferrer"}},[e._v("guide"),a("OutboundLink")],1),e._v("):\n"),a("ul",[a("li",[e._v("Critical")]),e._v(" "),a("li",[e._v("Major")]),e._v(" "),a("li",[e._v("Moderate")]),e._v(" "),a("li",[e._v("Minor")]),e._v(" "),a("li",[e._v("Cosmetic")])])]),e._v(" "),a("li",[a("code",[e._v("scope")]),e._v(' means the scope of the fixtures (e.g.: "useraccount", ...)')])]),e._v(" "),a("h3",{attrs:{id:"variables-secrets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variables-secrets"}},[e._v("#")]),e._v(" Variables / Secrets")]),e._v(" "),a("p",[e._v("Store your environment variables in a file called "),a("code",[e._v(".env")]),e._v(", like this:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("USER_NIC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'oles-ovh'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("USER_PASS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'supersecret'")]),e._v("\n")])])]),a("p",[e._v("They will be automatically loaded.")]),e._v(" "),a("h3",{attrs:{id:"dataset-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dataset-file"}},[e._v("#")]),e._v(" Dataset file")]),e._v(" "),a("p",[e._v("You can put a JSON file to give in input of the tests. Just create a "),a("code",[e._v("input.json")]),e._v(" file in the "),a("code",[e._v("packages/manager/tools/testcafe/config/")]),e._v(" folder.")]),e._v(" "),a("p",[e._v("It'll be automatically loaded and available in config variable "),a("code",[e._v("config.dataset")]),e._v(", and usable inside the tests.")]),e._v(" "),a("p",[e._v("Variables currently in use:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hubProduct"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"YOUR_PRODUCT_NAME"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h2",{attrs:{id:"how-tos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-tos"}},[e._v("#")]),e._v(" How-tos")]),e._v(" "),a("h3",{attrs:{id:"how-to-install-locally-chromium"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-install-locally-chromium"}},[e._v("#")]),e._v(" How-to install locally Chromium")]),e._v(" "),a("p",[e._v("You can download the last standalone copy of Chromium for Windows / macOS or GNU/Linux:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/some/directory\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For Linux:")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://download-chromium.appspot.com/dl/Linux_x64?type=snapshots"')]),e._v(" --no-check-certificate -q -O chrome.zip "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" chrome.zip\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For macOS:")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://download-chromium.appspot.com/dl/Mac?type=snapshots"')]),e._v(" --no-check-certificate -q -O chrome.zip "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" chrome.zip\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For Windows:")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://download-chromium.appspot.com/dl/Win?type=snapshots"')]),e._v(" --no-check-certificate -q -O chrome.zip "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" chrome.zip\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Then, export the path in your .bashrc, for example for macOS:")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'export CHROME_PATH=\"~/some/directory/chrome-mac/Chromium.app/Contents/MacOS/Chromium\"'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" ~/.bashrc\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$CHROME_PATH")]),e._v("\n~/some/directory/chrome-mac/Chromium.app/Contents/MacOS/Chromium\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);